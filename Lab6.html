<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lab 6</title>

    <div class="jumbotron jumbotron-fluid">
        <style>
            div {
                padding: 12px;
                margin: 0px;
            }
            </style>
        <h1 class="display-2">WELCOME TO JUAN'S LAB #6!!!</h1>
        <p class="lead">
            <a class="btn btn-primary btn-lg" role="button" onclick="getCats()">Trigger API</a>
        </p>
    </div>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

<body>
  <div class="container text-center">
      <div class="row">
        <div class="col">
          <table class="table table-bordered">
              <thead>
                  <tr>
                    <th scope="col">Fact ID #</th>
                    <th scope="col">Cat Fact</th>
                  </tr>
              </thead>
                <tbody>
                  <tr>
                    <th scope="row">1</th>
                    <td id="fact1">[Placeholder Text]</td>
                  </tr>
                  <tr>
                    <th scope="row">2</th>
                    <td id="fact2">[Placeholder Text]</td>
                  </tr>
                  <tr>
                    <th scope="row">3</th>
                    <td id="fact3">[Placeholder Text]</td>
                  </tr>
                  <tr>
                    <th scope="row">4</th>
                    <td id="fact4">[Placeholder Text]</td>
                  </tr>
                  <tr>
                    <th scope="row">5</th>
                    <td id="fact5">[Placeholder Text]</td>
                  </tr>
                </tbody>
          </table>
        </div>
        
      </div>
  </div>
    
  <script>
    async function getCats() {
      const url = 'https://brianobruno.github.io/cats.json';
      const options = { method: 'GET',};
      
      const response = await fetch(url, options);
      const catObject = await response.json(); //This line accomplishes JSON parsing
      //const myObj = JSON.parse(result);

      catObject.facts.sort((a, b) => a.factId - b.factId); //Sorts facts by factId

      //Spits out text of elements of catObject.facts array based on position after reordering by factId#
      document.getElementById("fact1").innerHTML = catObject.facts[0].text;
      document.getElementById("fact2").innerHTML = catObject.facts[1].text;
      document.getElementById("fact3").innerHTML = catObject.facts[2].text;
      document.getElementById("fact4").innerHTML = catObject.facts[3].text;
      document.getElementById("fact5").innerHTML = catObject.facts[4].text;

      const catPic = catObject.catPhoto;
      /* Get image and change value of src attribute */
      let image = document.getElementById("image");
      image.src = catPic;
      document.getElementById("btnID").style.display = "none";
    }
  </script>

  <div>
    <h3>Trigger the API to see a Cat Photo + Cat Facts!</h3>
    <!-- img element without src attribute -->
    <img id="image" src="ponderingOrb.png" style="width:auto;" />
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>

<hr>
<p style="padding: 0px 15px 0px 15px"><strong>This page was last updated on: 04 May, 2025 @ 6:29:59pm EST   - Juan L</strong></p>

</html>